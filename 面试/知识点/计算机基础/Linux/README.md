linux的目录都是什么含义（华为Cloudbu一面）

> 为了使不同的Linux发布版本的目录结构保持一致性，FHS规定了Linux的目录结构。最基础的三个目录如下：
> 
> - /（root，根目录）
> - /usr（unix software resource）：系统默认软件都会安装到这个目录
> - /var（variable）：存放系统或程序运行过程中的数据文件
> 
> ![](https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/linux-filesystem.png)

linux下软链接和硬链接的区别？(今日头条一面)

> - 实体链接（硬链接）
>   
>   - 在目录下创建一个条目，记录文件名与inode编号，这个inode就是源文件的inode；
>   - 删除任意一个条目，文件还是存在，只要引用数量不为0。
>   - 限制
>     - 不能跨越文件系统、不能对目录进行链接
> 
> - 符号链接（软链接）
>   
>   - 符号链接文件保存着源文件所在的绝对路径，在读取时会定位到源文件上，可以理解为Windows的快捷方式；
>   - 当源文件被删除了，链接文件就打不开了；
>   - 因为记录的是路径，所以可以为目录简历符号链接

linux系统加载程序并运行的过程？(今日头条一面)

> [程序的编译、链接、装载与运行](https://www.nosuchfield.com/2018/11/23/Program-compilation-linking-loading-and-running/)
> 
> ![img](https://www.nosuchfield.com/images/20181123/main.png)
> 
> - 编译
>   - 将程序员所写的高级语言代码转化为对应的目标文件的过程。一般来说高级语言的编译要经过预处理、编译和汇编这几个过程
>   - 预处理
>   - 编译
>     - 对预处理之后的文本进行词法分析、语法分析、语义分析并优化后生成响应的汇编文件
>   - 汇编
>     - 将汇编代码转化为机器指令，生成目标文件
>     - 目标文件的结构与可执行文件是一致的，它们之间只存在一些细微的差异
>     - 目标文件是无法被执行的，它还需要链接这一步操作，目标文件被链接之后才可以产生可执行文件
> - 目标文件的格式
>   - Linux下的目标文件的格式叫做ELF（Executable Linkable Format），ELF header保存如下的内容：
>     - ELF的magic number
>     - 文件机器字节长度
>     - ELF版本
>     - 操作系统平台
>     - 硬件平台
>     - 程序的入口地址
>     - 段表的位置和长度。可以从ELF文件中获取到段表（Section Header Table）
>     - 段的数量
> - （静态）链接
>   - 与动态链接的比较
>     - 动态链接对内存和磁盘的节省十分有限
>     - 不需要考虑动态链接库的不同的版本，静态链接的文件可以做到链接即可执行，减少了运维和部署上的复杂度
>     - 在有些新发明的语言（例如golang）中链接过程中已经开始开始使用静态链接
>   - 静态链接的过程
>     - 扫面所有的目标文件，获取它们的每个段的长度、位置和属性，并将每个目标文件中的符号表的符号定义和符号引用收集起来放在一个全局符号表中，建立起可执行文件到目标文件的段映射关系
>     - 读取目标文件中的段时间，并解析符号表信息，根据符号表信息进行重定位、调整代码中的地址等操作
> - 装载
> - 运行
>   - 操作系统在创建进程之后，jmp到这个进程的入口函数
>   - 入口函数对程序运行环境进行初始化，包括堆、I/O、线程、全局变量的构造等等
>   - 入口函数在完成初始化之后，调用main函数，开始执行程序的主体
>   - main函数执行完毕之后返回到入口函数，入口函数进行清理工作，最后通过系统调用结束进程

Linux上常用到的一些命令（华为Cloudbu一面，腾讯CDG一面，深信服一面）

> - ls。列出文件或者目录信息
> - cd。更换当前目录
> - mkdir。创建目录
> - rmdir。删除目录，目录必须为空。
> - cp。复制文件
> - rm。删除文件
> - mv。移动文件
> - cat。获取文件内容
> - ps。查看某个时间点的进程信息
> - top。实时显示进程信息
> - kill。杀死进程
> - chmod。用于控制用户对文件的权限
> - netstat。用于显示各种网络相关信息，如网络连接，路由表，接口状态（Interface Statistics），masquerade连接，多播成员（Multicast Memberships）等

chmod命令的用法，777是什么含义（华为Cloudbu一面，腾讯CDG事务开发一面）

> 全称change mode，用于控制用户对文件的权限的命令
> 
> linux的权限有：
> 
> - r：4，读
> - w：2， 写
> - x：1，执行
> 
> 777表示三种不同的对象,即文件所有人，文件所有组，和其他人。

如何查询进程和线程的ID？（淘宝一面，腾讯CDG事务开发一面）

> - 查看进程ID的方式
>   - ps
> - 查看线程ID的方式
>   - ps -T -p 。
>   - Top -H -p 。
>   - htop
