为什么要使用ES，MySQL索引和ES倒排索引的区别，ES的分词（深信服一面，腾讯TEG一面，Lazada一面，Lazada二面）

> [大白话告诉你倒排索引是个啥](https://zhuanlan.zhihu.com/p/112136054)
>
> 一、正排索引
>
> 正排索引就是数据库表，他通过id和数据进行关联。
>
> 我们可以通过搜索id，来获得相应的数据，也能删除数据。你买了一本书，书的目录其实也是正排搜索。
>
> 假设现在我要搜`苹果`俩字，那么他会对这张表格中每一行的数据做匹配，去查找一下，是否包含`苹果`这两个字，从第一条匹配到最后一条，如果一张表中数据量不多，几万，十几万，那么问题不大，但是一旦数据量有上百万，上千万，那么全表扫描这种的搜索性能就会有影响。
>
> - 优点：使用起来方便，原理也简单，比较入门
>
> - 缺点：检索效率低下，适合简单场景使用，比如传统项目，数据量较小的项目。不支持分词搜索。
>
> 二、倒排索引
>
> 倒排索引会把文档内容进行分词，比如`苹果公司发布iPhone`是一个文档数据，当我们把他存入到搜索引擎中去的时候，会有一个文档id，这个文档id就类似于数据库主键。但是这文档存储的时候和数据库不一样，他会进行一个分词，每一个词汇都会和文档id关联起来，可以根据词汇来找到所有出现的id列表
>
> - 优点：搜索更快，耗时短，用户体验高，精装度也高
>
> - 缺点：维护成本高，索引新建后要修改，必须先删除，前期需要很好地规划
>
> 三、分词
>
> 将文本转换为一系列单词的过程，也可以叫文本分析

ES的分布式特性（Lazada一面）

> - 将文档分区到不同的分片(shards)中，它们可以存在于一个或多个节点中；
> - 将分片均匀地分配到各个节点，对索引和搜索做负载均衡；
> - 冗余每一个分片，防止硬件故障造成数据丢失；
> - 将集群中任意一个节点（协调节点）上的请求路由到相应数据所在的节点；
> - 无论是增加节点，还是移除节点，分片都可以做到无缝的扩展和迁移；